<?xml version="1.0" encoding="UTF-8"?>

<riscoss>

	<script>
	<![CDATA[
		function inverseOf( nodes ) {
			var ret = 1;
			for( var i = 0; i < nodes.size(); i++) {
				ret = ret * (1-(1/(nodes.get(i).getSatisfaction()+1)));
			}
			evidence.set( ret, 0 );
		}
		function normalize( nodes ) {
			var ret = 1;
			for( var i = 0; i < nodes.size(); i++) {
			print( nodes.get(i).getSatisfaction() );
				ret = 1-(ret * (1-(1/(nodes.get(i).getSatisfaction()+1))));
			}
			println("");
			evidence.set( ret, 0 );
		}
	]]>
	</script>
	
<model type="riskmodel">
    <entities>
        <indicator id="i" datatype="real" input="true"/>
		<situation id="s1" output="true"/>
		<situation id="s2" output="true"/>
		
        <indicator id="i2" datatype="string" input="true"/>
		<situation id="s3" output="true"/>
    </entities>
    
    <relationships>
		<indicate source="i" target="s1" function="normalize(nodes);"/>
		<indicate source="i" target="s2" function="inverseOf(nodes);"/>
		
		<indicate source="i2" target="s3" function="normalize(nodes);"/>
    </relationships>
</model>

</riscoss>
